<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homeworkjs13</title>
</head>
<body>
    <script>
        //Try, catch, finally
        //1
        try {
         console.log("–ü–µ—Ä–µ–¥ –ø–æ–º–∏–ª–∫–æ—é");
         throw new Error("–©–æ—Å—å –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫");
        } catch (error) {
         console.log("–û–±—Ä–æ–±–ª–µ–Ω–æ:", error.message);
        } finally {
         console.log("–ë–ª–æ–∫ finally –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∑–∞–≤–∂–¥–∏");
        }
        console.log("–ü—ñ—Å–ª—è try...catch...finally");
        //–≤ –∫–æ–Ω—Å–æ–ª—å –≤–∏–≤–æ–¥–∏—Ç—å—Å—è: 1. –ü–µ—Ä–µ–¥ –ø–æ–º–∏–ª–∫–æ—é 2. –û–±—Ä–æ–±–ª–µ–Ω–æ: —â–æ—Å—å –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫ 
        // 3. –ë–ª–æ–∫ finally –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∑–∞–≤–∂–¥–∏ 4. –ü—ñ—Å–ª—è try...catch...finally

        //2
        //function parseNumber () {

        //}
        //–Ω–µ –≤–¥–∞–ª–æ—Å—è –≤–∏–∫–æ–Ω–∞—Ç–∏ —Ü–µ –∑–∞–≤–¥–∞–Ω–Ω—è

        //Promises
        //1
        const myPromise = new Promise((resolve, reject) => {
          reject("‚ùå –ü–æ–º–∏–ª–∫–∞!");
        });

        myPromise
       .then((message) => console.log(message))
       .catch((error) => console.error(error));
       //–≤–∏–≤–æ–¥–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª—å "–ü–æ–º–∏–ª–∫–∞!", –±–æ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î catch

       //2
       const myPromise1 = new Promise((resolve) => {
          resolve(10);
        });

        myPromise1
         .then((num) => {
           throw new Error("‚ùå –©–æ—Å—å –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫!");
        })
        .catch((error) => console.error(error.message));
        //–≤–∏–≤–æ–¥–∏—Ç—å "–©–æ—Å—å –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫" –±–æ –≤ then –≤–∏–Ω–∏–∫–ª–∞ –ø–æ–º–∏–ª–∫–∞

        //3
        const promise1 = new Promise((resolve) => setTimeout(() => resolve("‚úÖ –ü–µ—Ä—à–µ"), 1000));
        const promise2 = new Promise((resolve) => setTimeout(() => resolve("‚úÖ –î—Ä—É–≥–µ"), 2000));

        Promise.all([promise1, promise2]).then((results) => console.log(results));
        //–≤–∏–≤–æ–¥–∏—Ç—å "–ü–µ—Ä—à–µ" —ñ "–î—Ä—É–≥–µ", —Ç–æ–º—É —â–æ Promaise.all —á–µ–∫–∞—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö –æ–±—ñ—Ü—è–Ω–æ–∫

        //4
        const promise3 = new Promise((resolve) => setTimeout(() => resolve("‚úÖ –£—Å–ø—ñ—Ö"), 1000));
        const promise4 = new Promise((_, reject) => setTimeout(() => reject("‚ùå –ü–æ–º–∏–ª–∫–∞"), 2000));

        Promise.allSettled([promise3, promise4]).then((results) => console.log(results));
        // –≤–∏–≤–æ–¥–∏—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—ñ
        //  (2) [{‚Ä¶}, {‚Ä¶}]
        //0: {status: 'fulfilled', value: '‚úÖ –£—Å–ø—ñ—Ö'}
        //1: {status: 'rejected', reason: '‚ùå –ü–æ–º–∏–ª–∫–∞'}
        //length: 2
        //[[Prototype]]: Array(0)
        //—Ç–æ–º—É —â–æ Promise.allSettled –ø–æ–≤–µ—Ä—Ç–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ñ —Å—Ç–∞—Ç—É—Å–∏

        //async/await
        //1
        async function getData() {
        let result = await Promise.resolve("üöÄ –î–∞–Ω—ñ –æ—Ç—Ä–∏–º–∞–Ω—ñ!");
        console.log(result);
        }

        getData();
        console.log("‚è≥ –û—á—ñ–∫—É—î–º–æ...");
        //–≤ –∫–æ–Ω—Å–æ–ª—ñ –∑'—è–≤–ª—è—î—Ç—å—Å—è "–û—á—ñ–∫—É—î–º–æ" —ñ "–î–∞–Ω—ñ –æ—Ç—Ä–∏–º–∞–Ω—ñ", —Ç–æ–º—É —â–æ await –ø—Ä–∏–∑—É–ø–∏–Ω—è—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–¥—É,
        //–ø–æ–∫–∏ Promise –Ω–µ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è

        //2
        async function loadData() {
          console.log("–ü–æ—á–∞—Ç–æ–∫");

          let data1 = await new Promise((resolve) => setTimeout(() => resolve("üìÑ –î–∞–Ω—ñ 1"), 2000));
          console.log(data1);

          let data2 = await new Promise((resolve) => setTimeout(() => resolve("üìÑ –î–∞–Ω—ñ 2"), 1000));
          console.log(data2);

          console.log("üèÅ –ö—ñ–Ω–µ—Ü—å");
        }

        loadData();
        //–≤–∏–≤–æ–¥–∏—Ç—å "–î–∞–Ω—ñ1", "–î–∞–Ω—ñ2", "–ö—ñ–Ω–µ—Ü—å", —Ç–æ–º—É —â–æ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ async –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ await —è–∫–∏–π —á–µ–∫–∞—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö Promise
        // "–ü–æ—á–∞—Ç–æ–∫" —á–æ–≥–æ—Å—å –Ω–µ —Ö–æ—á–µ –≤–∏–≤–æ–¥–∏—Ç–∏, –Ω–µ –∑–Ω–∞—é —á–æ–º—É

        //3
        async function getUser() {
        let response = await fetch("https://jsonplaceholder.typicode.com/users/1");
        let user = await response.json();
        console.log(user.name);
        }

        getUser();
        //–≤ –∫–æ–Ω—Å–æ–ª—å –≤–∏–≤–æ–¥–∏—Ç—å Leanne Graham —Ç–æ–º—É —â–æ –¥–∞–Ω–Ω–∞ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—è async/await/fetch –≤–∏—Ç—è–≥—É—î –¥–∞–Ω—ñ –∑ —Å–µ—Ä–≤–µ—Ä—É, —Ç—É—Ç —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

        //4
        async function delay() {
        await setTimeout(() => console.log("‚è≥ –ó–∞—Ç—Ä–∏–º–∫–∞"), 2000);
        console.log("üèÅ –ö—ñ–Ω–µ—Ü—å");
        }

        delay();
        //–≤–∏–≤–æ–¥–∏—Ç—å —Å–ø–æ—á–∞—Ç–∫—É "–ö—ñ–Ω–µ—Ü—å", –∞ –ø–æ—Ç—ñ–º "–ó–∞—Ç—Ä–∏–º–∫–∞", —Ç–æ–º—É —â–æ —Ç—É—Ç –Ω–µ–º–∞—î Promise




    </script>
</body>
</html>